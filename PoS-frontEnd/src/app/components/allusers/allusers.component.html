<div id="main">
  <div class="cl-card">
    <mat-card class="settings-card">
      <mat-card-header>
        <mat-card-title>Users Management</mat-card-title>
      </mat-card-header>
      <mat-card-content class="settings-content">
        <button class="settings-item" mat-raised-button (click)="openDialog()">Add User</button>
      </mat-card-content>
      
    </mat-card>
    <table *ngIf="userData.length !== 0" mat-table [dataSource]="userDataSource" class="mat-elevation-z8 usersTable">
      
      <!-- User ID  -->
      <ng-container matColumnDef="userID">
        <th mat-header-cell *matHeaderCellDef> User ID </th>
        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
        <td mat-footer-cell *matFooterCellDef>
        </td>
      </ng-container>
      <!-- Position Column -->
      <ng-container matColumnDef="Username">
        <th mat-header-cell *matHeaderCellDef> Username </th>
        <td mat-cell *matCellDef="let element"> {{element.un}} </td>

      </ng-container>
    
      <!-- Name Column -->
      <ng-container matColumnDef="Surname">
        <th mat-header-cell *matHeaderCellDef> Surname </th>
        <td mat-cell *matCellDef="let element"> {{element.sn}} </td>

      </ng-container>
    
      <!-- Weight Column -->
      <ng-container matColumnDef="Othernames">
        <th mat-header-cell *matHeaderCellDef> Other Names </th>
        <td mat-cell *matCellDef="let element"> {{element.on}} </td>
    
      </ng-container>
    
      <!-- Symbol Column -->
      <ng-container matColumnDef="Role">
        <th mat-header-cell *matHeaderCellDef> Role </th>
        <td mat-cell *matCellDef="let element"> {{element.userRole}} </td>

      </ng-container>
      <!-- Symbol Column -->
      <ng-container matColumnDef="Status">
        <th mat-header-cell *matHeaderCellDef> Status </th>
        <td mat-cell *matCellDef="let element"> {{element.active ? 'Active' : 'Inactive'}} </td>

      </ng-container>
      <!-- Symbol Action -->
      <ng-container matColumnDef="btn">
        <th mat-header-cell *matHeaderCellDef> Action </th>
        <td mat-cell *matCellDef="let element">
          <button mat-button matSuffix mat-icon-button aria-label="block" [color]="element.active == 1 ? 'warn' : 'primary'"
           [matTooltip]="element.active == 1 ? 'block user' : 'unblock user'" (click)="blockUser(element.id)">
            <mat-icon>{{element.active == 1 ? 'block' : 'how_to_reg'}}</mat-icon>
          </button>
        </td>

      </ng-container>
    
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    </table>
  </div>
</div>